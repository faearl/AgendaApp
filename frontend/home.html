<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home Page</title>


    <link rel="stylesheet" href="home.css">
    <script src='session_locator.js'></script>
    <!-- Download the used font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Madimi+One&display=swap"
      rel="stylesheet">

    <meta name="viewport"
      content="width=device-width, initial-scale=1.0">
  </head>
  <body>
    <div id="container">
      <div id="header">
        <div id="monthDisplay"></div>
        <div>
          <button id="backButton">Back</button>
          <button id="nextButton">Next</button>
        </div>
      </div>

      <!--
      <div id="searchEngine">
        <label for="startDate" >Start Date:</label>
        <input type="date" id="searchStart">
        <label for="endDate">End Date:</label>
        <input type="date" id="searchEnd">
        <input type = "search" id="searchInput">
        <button id="searchButton">Search</button>
        <button id="shareButton">Share</button>
      </div>
	  
      -->

      <!--
      <div id="shareModal" class="modal">
        Username <input type="text" id="shareUser"> <br>
        <label for="startDate" >Start Date:</label>
        <input type="date" id="shareStart"> <br>
        <label for="endDate">End Date:</label>
        <input type="date" id="shareEnd"> <br>
        <button id="confirmShare">Share</button>
        <button id="cancelShare">Cancel</button>
      </div>
      -->

      <!--
      <h3>Add a note to a week:</h3>
      <button id="openWeeklyNoteModal">Add Weekly Note</button>

      <div id="weeklyNoteModal" class="modal">
        <input type="date" id="weekOfNote" style="display: none;">
        <textarea id="weeklyNoteInput" placeholder="Enter your note for the week..."></textarea>
        <button id="submitWeeklyNote">Submit</button>
        <button id="cancelWeeklyNote">Cancel</button>
      </div>
      -->

      <div>
        <img id = 'tree_body' src = "main_tree.png" loading="lazy"
          draggable = 'false'/>
        <img id = 'leaves' src = "leaves.png" loading = "lazy"
          dragabble = 'false'/>
      </div>

      <div class = 'container'>
        <img id = 'desktop-weekly' src = "weekly-view.png" draggable = 'false'>
        <img id = 'mobile-weekly' src = "weekly-view-mobile.png" draggable = 'false'>

        <div id = 'weekly-arrows'>
          <img id = 'last-week' src = "left-arrow.png" draggable = 'false'
              onclick="--nav;load()">
          <img id = 'next-week' src = "right-arrow.png" draggable = 'false'
              onclick="++nav;load()">
        </div>

        <div class = 'weekday'>
          <div id='day1' class='day-section'>
            <div class='day-header' onclick='openModal(1)'>
              <p>Mon</p>
              <p class='day-header-date'
                id='day1-date-text'></p>
            </div>
            <div class='day-event-container'>
            </div>
          </div>
          <div id='day2' class='day-section'>
            <div class='day-header' onclick='openModal(2)'>
              <p>Tue</p>
              <p class='day-header-date'
                id='day2-date-text'></p>
            </div>
            <div class='day-event-container'>
            </div>
          </div>
          <div id='day3' class='day-section'>
            <div class='day-header' onclick='openModal(3)'>
              <p>Wed</p>
              <p class='day-header-date'
                id='day3-date-text'></p>
            </div>
            <div class='day-event-container'>
            </div>
          </div>
          <div id='day4' class='day-section'>
            <div class='day-header' onclick='openModal(4)'>
              <p>Thu</p>
              <p class='day-header-date'
                id='day4-date-text'></p>
            </div>
            <div class='day-event-container'>
            </div>
          </div>
          <div id='day5' class='day-section'>
            <div class='day-header' onclick='openModal(5)'>
              <p>Fri</p>
              <p class='day-header-date'
                id='day5-date-text'></p>
            </div>
            <div class='day-event-container'>
            </div>
          </div>
          <div id='weekend-days'>
            <div id='day6' class='day-section'>
              <div class='day-header' onclick='openModal(6)'>
                <p>Sat</p>
                <p class='day-header-date'
                  id='day6-date-text'></p>
              </div>
              <div class='day-event-container'>
              </div>
            </div>
            <div id='day7' class='day-section'>
              <div class='day-header' onclick='openModal(7)'>
                <p>Sun</p>
                <p class='day-header-date'
                  id='day7-date-text'></p>
              </div>
              <div class='day-event-container'>
              </div>
            </div>
          </div>
        </div>

      <div class = 'top-text'> 
        <div id = 'month-text'>Month</div>
        <div id = 'year-text'>Year</div>
      </div>

      <div class = 'clickables'>
        <div id=nav-bar> <!-- Top Right Section -->
          <img id = 'apple' src = "apple.png" draggable = 'false'>
          <div id=search-widget>
            <input type=search id='search-input'
              placeholder="Enter phrase..."/>
            <input type=date id='search-start-date'/>
            <input type=date id='search-end-date'/>
            <input type=button id='search-submit' value="Go"
              onclick="searchEvents()"/>
          </div>
          <img id = 'magnif-glass' src = "search.png" draggable = 'false'
            onclick="toggleSearchWidget()">
        </div>
        <img id = 'to-reports' src = "left-arrow-acorn.png" draggable = 'false'>
        <img id = 'add-button' src = "add.png" draggable = 'false'>
      </div>


      <!-- Exporting events -->
      <!--<div id="exportEvents">
        <div id="exportTitle">Export Events</div>
        <p>Select the date range for the events you would like to export</p>
        <label for="startDate" id="startDate">Start Date:</label>
        <input type="date" id="sDate">
        <label for="endDate" id="endDate">End Date:</label>
        <input type="date" id="eDate">
        <button id="exportButton">Export Events</button>
      </div>-->
      
    </div>

    <!-- Creating a new event modal -->
    <div id="newEventModal">
      <h2>Day's Events</h2>
      <ul id="eventsList"></ul> <!-- List of events for the selected day -->
    
      <h2>New Event</h2>
      <input id="eventTitleInput" placeholder="Event Title" />
	    <button id="saveButton" onclick="addEvent()">Add</button>
      <button id="cancelButton" onclick="closeModal()">Close</button>
	  
    </div>

    <!-- New modal for editing existing events -->
    <div id="editEventModal" class="modal">
      <h2>Event Details</h2>
      <input id="editEventTitleInput" placeholder="Event Title" />

      <label for="eventCat">Category:</label>
      <select id="eventCat">
          <option value="personal">Personal</option>
          <option value="school">School</option>
          <option value="work">Work</option>
          <option value="custom">Custom</option>
      </select>

      <div id="newCategory" style="display: none;">
        <label for="newCategoryName">Category Name:</label>
        <input type="text" id="newCategoryName" placeholder="Enter category name"/>
        <input type="color" id ="categoryColor" value="#444444"/>
        <button id="submitCategory" onclick="addCategory()">Submit</button>
      </div> 

      <!-- Time of event -->
      <h2>Times:</h2>
      <label for="startTime">Start Time:</label>
	    <input type="time" id="startTime" name="startTime" required>

	    <label for="endTime">End Time:</label>
      <input type="time" id="endTime" name="endTime" required>

      <!-- Alarm for event -->
      <h2>Set an Alarm:</h2>
      <select id="alarmTimeSelect">
        <option value="5">5 mins before</option>
        <option value="10">10 mins before</option>
        <option value="15">15 mins before</option>
        <option value="60">60 mins before</option>
        <option value="custom">Customize</option>
		    <option value="none" selected="selected">None</option>
      </select>
      
      <h4 id="alarmHeading"></h4>
      <label for="customAlarmDate" style="display: none;">Alarm Date:</label>
      <input type="date" id="customAlarmDate" style="display: none;">

      <label for="customAlarmTime" style="display: none;">Alarm Time:</label>
      <input type="time" id="customAlarmTime" style="display: none;">

      <!-- Image for event -->
      <h2>Add a New Note</h2>
      <textarea id="noteInput" placeholder="Note..." ></textarea>
      <label for="image">Upload a new picture:</label>
      <input type="file" id="image" name="image" accept="image/png, image/jpeg" />
	    <img id='image-display' style='width: 100%;' alt='loading...' />

      <!-- Saving the event -->
      <h2> </h2>
	    <button id="updateButton">Save Event</button>
      <button id="closeButton" onclick="closeEditModal()">Cancel</button>
      <button id="deleteButton" onclick="deleteEvent()">Delete Event</button>

    </div>

    <div id="searchModal" class="modal">
      <div class="searchResults">
        <h2>Search Results</h2>
        <ul id="searchResultsList"></ul>
      </div>
      <button id="exportSearchButton">Export</button>
      <button id="closeSearchButton">Close</button>
    </div>
    <div id="modalBackDrop"></div>
    <script src="./home.js"></script>
  </body>
</html>
